<!DOCTYPE html>
<html lang="en" style="height:100%">
<head>
    {% load staticfiles %}

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>资源查询</title>
    <link href="{% static 'bootstrap-datetimepicker.min.css'  %}" rel="stylesheet" />
    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--[if lt IE 9]><script src="../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>

    <![endif]-->
    <style>
        .search-list {
            height:100%;
            width:20%;
            font-size:20px
        }
        .search-input {
            width:50%;
            height:50px;
        }
    </style>
</head>
<body style="height:100%">
    <div class="container" style="width:100%; height:100%; margin-top:10px">
        <div class="row" style="width:100%; height:100%;">
            <div class="col-xs-12 col-lg-12" style="height:100%;">
                <div class="panel-body" style="width:100%; height:10%;">
                    <div class="search-header" style="display:inline-flex; width:100%; height:100%;">
                        <span class="search-list">入库时间</span>
                        <span class="search-list" style="left:150px;">卫星种类</span>
                        <span class="search-list" style="left:257px;">其他条件</span>
                    </div>
                </div>
                <div style="margin-top:10px; display:inline-flex; width:100%; height:10%">
                    <form style="display:inline-flex; width:100%; height:100%">
                        <div class="search-list">
                            <input type='date' class="nowdate search-input"/>
                        </div>
                        <div class="search-list">
                            <select style="height:50px">
                                <option value="请选择卫星种类">请选择卫星种类</option>
                                <option value="高分2号">高分2号</option>
                                <option value="高景1号">高景1号</option>
                            </select>
                        </div>
                        <div class="search-list" style="display:inline-flex;">
                            <input type='text' class="search-input" placeholder="请输入其他查询条件"/>
                            <span class="input-group-btn" style="padding-left:10px;">
                                <button style="height:50px; width:100px; font-size:20px; border-radius:6px"  type="submit" class="btn btn-primary">搜索</button>
                            </span>
                        </div>
                    </form>
                </div>
                <div id="globe-search-result"></div>
                <div id="list-search-result" style="width:95%">
                    <table id="resultTab" border="0" cellspacing="0" cellpadding="0" class="table">
                        <tr class="label-primary" style="font-size:20px; height: 70px;">
                            <th scope="col" width="5%"><span style="color:white">序号</span></th>
                            <th scope="col" width="15%"><span style="color:white">影像资源</span></th>
                            <th scope="col" width="10%"><span style="color:white">入库时间</span></th>
                            <th scope="col" width="5%"><span style="color:white">用户</span></th>
                            <th scope="col" width="5%"><span style="color:white">荷载</span></th>
                            <th scope="col" width="10%"><span style="color:white">卫星</span></th>
                            <th scope="col" width="10%"><span style="color:white">影像类别</span></th>
                            <th scope="col" width="10%"><span style="color:white">下载次数</span></th>
                            <th scope="col" class ="authorityTh"><span class="authoritySpan" style="color:white">操作</span></th>
                        </tr>
                    </table>
                </div>
                </div>
            </div>
            <div class="col-xs-0 col-lg-0"></div>
            <footer></footer>
        </div>
    </div>
    <script>
    var data = [{
        "id": 1,
        "resource": "111111",
        "date": "2018/04/19",
        "user": "admin",
        "load": "CCD1",
        "satellite": "高分1号",
        "type": "二级影像",
        "download": "2"
    },{
        "id": "2",
        "resource": "2222",
        "date": "2018/04/19",
        "user": "admin1",
        "load": "PAD-1",
        "satellite": "高分1号",
        "type": "三级影像",
        "download": "3"
    }];
    window.onload=function(){
        //默认获取当前日期
        var today = new Date();
        var nowdate = (today.getFullYear()) + "-" + (today.getMonth() + 1) + "-" + today.getDate();
        //对日期格式进行处理
        var date = new Date(nowdate);
        var mon = date.getMonth() + 1;
        var day = date.getDate();
        var mydate = date.getFullYear() + "-" + (mon < 10 ? "0" + mon : mon) + "-" + (day < 10 ? "0" + day : day);
        $(".nowdate").val(mydate);
        showList();
    };
    function showList(){
        var resultTab = $("#resultTab");
        data.forEach(function(item){
            $(
                '<tr/>', {
                    'style' : 'font-size:18px'
                }).append($('<td/>', {
                    text : item.id
                }))
                .append($('<td/>',{
                    text : item.resource
                }))
                .append($('<td/>',{
                    text : item.date
                }))
                .append($('<td/>',{
                    text : item.user
                }))
                .append($('<td/>',{
                    text : item.load
                }))
                .append($('<td/>',{
                    text : item.satellite
                }))
                .append($('<td/>',{
                    text : item.type
                }))
                .append($('<td/>',{
                    text : item.download
                }))
                .append($('<td/>')
                .append($('<p/>')
                .append($('<button/>',{
                    'class' : 'operate',
                    'id' : 'look' + item.id,
                    text : '查看'
                }))
                .append($('<button/>',{
                    'class' : 'operate',
                    'id' : 'download' + item.id,
                    text : '下载'
                }))
                .append($('<button/>',{
                    'class' : 'operate',
                    'id' : 'del' + item.id,
                    text : '删除'
                }))
                .append($('<button/>',{
                    'class' : 'operate',
                    'id' : 'release' + item.id,
                    text : '发布'
                }))
                .append($('<button/>',{
                    'class' : 'operate',
                    'id' : 'cancel_release' + item.id,
                    text : '取消发布'
                }))))
                .appendTo(resultTab);
        });
    };
    </script>
</body>
</html>